DROP TABLE IF EXISTS `Movies`;
DROP TABLE IF EXISTS `Users`;
DROP TABLE IF EXISTS `Actors`;
DROP TABLE IF EXISTS `Genres`;
DROP TABLE IF EXISTS `MovieCasts`;
DROP TABLE IF EXISTS `MovieLists`;
DROP TABLE IF EXISTS `MovieGenres`;


CREATE TABLE `Movies` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`title` TEXT NOT NULL,
`year` DATE NOT NULL,
`description` TEXT NOT NULL,
`rating` DOUBLE NOT NULL DEFAULT 5);

CREATE TABLE `Users` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`email` TEXT NOT NULL UNIQUE,
`password` TEXT NOT NULL,
`name` TEXT,
`surname` TEXT);

CREATE TABLE `Actors` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`name` TEXT NOT NULL,
`surname` TEXT NOT NULL);

CREATE TABLE `Genres` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`name` TEXT NOT NULL UNIQUE);

CREATE TABLE `MovieCasts` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`movie_id` INT NOT NULL REFERENCES `Movies`(`id`),
`actor_id` INT NOT NULL REFERENCES `Actors`(`id`));

CREATE TABLE `MovieLists` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`movie_id` INT NOT NULL REFERENCES `Movies`(`id`),
`user_id` INT NOT NULL REFERENCES `Users`(`id`));

CREATE TABLE `MovieGenres` (
`id` INT AUTO_INCREMENT NOT NULL UNIQUE PRIMARY KEY,
`movie_id` INT NOT NULL REFERENCES `Movies`(`id`),
`genre_id` INT NOT NULL REFERENCES `Genres`(`id`));
